<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box {
				max-width: 414px;
				height: 480px;
				border: solid #000;
				margin: auto;
				overflow: auto;
			}
			
			.shape {
				float: left;
				width: 30px;
				height: 340px;
				shape-outside: polygon(0 0, 0 150px, 16px 154px, 30px 166px, 30px 314px, 16px 326px, 0 330px, 0 0);
				transition: shape-outside .15s;
			}
			
			.liuhai {
				width: 24px;
				height: 180px;
				background: url(liu.png) no-repeat left center;
				shape-outside: polygon(0 0, 0 150px, 16px 154px, 30px 166px, 30px 314px, 16px 326px, 0 330px, 0 0);
				position: absolute;
				margin-top: 150px;
				shape-outside: content-box;
			}
			
			.content ul {
				list-style: none;
				padding: 0;
				margin: 0;
			}
			
			.content li {
				border-bottom: 1px solid #eee;
				padding: .5em;
			}
		</style>
	</head>

	<body>
		<div id="box" class="box">
			<i id="shape" class="shape"></i>
			<i class="liuhai"></i>
			<div class="content">
				<ul>
					<li>为了防止看花眼</li>
					<li>我就手动敲下面的文字</li>
					<li>松江</li>
					<li>卢俊义</li>
					<li>理论上还可以使用CSS region实现</li>
					<li>但没有这个方法容易理解</li>
					<li>1</li>
					<li>2</li>
					<li>3</li>
					<li>4</li>
					<li>5</li>
					<li>6</li>
					<li>7</li>
					<li>8</li>
					<li>9</li>
					<li>10</li>
					<li>11</li>
					<li>12</li>
					<li>13</li>
					<li>14</li>
					<li>15</li>
					<li>16</li>
					<li>17</li>
					<li>18</li>
					<li>19</li>
					<li>20</li>
					<li>21</li>
					<li>22</li>
					<li>23</li>
					<li>24</li>
					<li>25</li>
					<li>26</li>
					<li>27</li>
					<li>28</li>
					<li>29</li>
					<li>30</li>
					<li>31</li>
					<li>32</li>
					<li>33</li>
					<li>34</li>
					<li>35</li>
					<li>36</li>
					<li>37</li>
					<li>38</li>
					<li>39</li>
					<li>40</li>
					<li>41</li>
					<li>42</li>
					<li>43</li>
					<li>44</li>
					<li>45</li>
					<li>46</li>
					<li>47</li>
					<li>48</li>
					<li>49</li>
					<li>50</li>
					<li>51</li>
					<li>52</li>
					<li>53</li>
					<li>54</li>
					<li>55</li>
					<li>56</li>
					<li>57</li>
					<li>58</li>
					<li>59</li>
					<li>60</li>
					<li>61</li>
					<li>62</li>
					<li>63</li>
					<li>64</li>
					<li>65</li>
					<li>66</li>
					<li>67</li>
					<li>68</li>
					<li>69</li>
					<li>70</li>
					<li>71</li>
					<li>72</li>
					<li>73</li>
					<li>74</li>
					<li>75</li>
					<li>76</li>
					<li>77</li>
					<li>78</li>
					<li>79</li>
					<li>80</li>
					<li>81</li>
					<li>82</li>
					<li>83</li>
					<li>84</li>
					<li>85</li>
					<li>86</li>
					<li>87</li>
					<li>88</li>
					<li>89</li>
					<li>90</li>
					<li>91</li>
					<li>92</li>
					<li>93</li>
					<li>94</li>
					<li>95</li>
					<li>96</li>
					<li>97</li>
					<li>98</li>
					<li>99</li>
					<li>100</li>
				</ul>
			</div>
		</div>
		<script type="text/javascript">
			var eleShape = document.getElementById('shape');
var eleBox = document.getElementById('box');
// 保证shape元素高度足够
eleShape.style.height = eleBox.scrollHeight + 'px';

var funShape = function () {
    var scrollTop = eleBox.scrollTop;
    // 滚动偏移应用在shape-outside上
    var shapeOutside = 'polygon(0 0, 0 '+ (150 + scrollTop) +'px, 16px '+ (154 + scrollTop) +'px, 30px '+ (166 + scrollTop) +'px, 30px '+ (314 + scrollTop) +'px, 16px '+ (326 + scrollTop) +'px, 0 '+ (330 + scrollTop) +'px, 0 0)';
    eleShape.style.shapeOutside = shapeOutside;
};
// 滚动时候实时改变shape形状
eleBox.addEventListener('scroll', funShape);
funShape();
		</script>
	</body>

</html>